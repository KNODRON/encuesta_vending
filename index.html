<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Encuesta Vending - Edificios</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="title">
      <h1>Encuesta Vending</h1>
      <p>Levantamiento rápido por edificio</p>
    </div>
    <div class="actions">
      <button id="btnNew" class="btn secondary" type="button">Nueva</button>
      <button id="btnSave" class="btn" type="button">Guardar</button>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h2>Identificación</h2>

      <div class="grid">
        <label>
          Edificio / Condominio
          <input id="buildingName" type="text" placeholder="Ej: Edificio Alameda 123" />
        </label>

        <label>
          Dirección (opcional)
          <input id="buildingAddress" type="text" placeholder="Ej: Alameda 123, Santiago" />
        </label>

        <label>
          Entrevistado (Administrador/Conserje)
          <input id="interviewee" type="text" placeholder="Nombre y cargo" />
        </label>

        <label>
          Teléfono / contacto (opcional)
          <input id="contact" type="tel" placeholder="+56 9 ..." />
        </label>

        <label>
          Fecha
          <input id="date" type="date" />
        </label>

        <label>
          N° Departamentos (estimado)
          <input id="units" type="number" inputmode="numeric" min="0" placeholder="Ej: 120" />
        </label>
      </div>
    </section>

    <section class="card">
      <h2>Encuesta (mini)</h2>

      <div class="q">
        <p>1) ¿Compraría productos de higiene en el edificio por conveniencia?</p>
        <div class="choices">
          <label><input type="radio" name="q1" value="Sí" /> Sí</label>
          <label><input type="radio" name="q1" value="Tal vez" /> Tal vez</label>
          <label><input type="radio" name="q1" value="No" /> No</label>
        </div>
      </div>

      <div class="q">
        <p>2) ¿Qué productos compraría? (marcar todos los que apliquen)</p>
        <div class="checks">
          <label><input type="checkbox" value="Toallas higiénicas" class="q2" /> Toallas higiénicas</label>
          <label><input type="checkbox" value="Preservativos" class="q2" /> Preservativos</label>
          <label><input type="checkbox" value="Toallas húmedas" class="q2" /> Toallas húmedas</label>
          <label><input type="checkbox" value="Shampoo / acond." class="q2" /> Shampoo / acond.</label>
          <label><input type="checkbox" value="Pasta / cepillo" class="q2" /> Pasta / cepillo</label>
          <label><input type="checkbox" value="Afeitadoras" class="q2" /> Afeitadoras</label>
          <label><input type="checkbox" value="Papel higiénico" class="q2" /> Papel higiénico</label>
          <label><input type="checkbox" value="Desodorante" class="q2" /> Desodorante</label>
          <label>
            <input type="checkbox" value="Otro" class="q2OtherToggle" /> Otro
          </label>
          <input id="q2OtherText" type="text" placeholder="Especificar otro..." disabled />
        </div>
      </div>

      <div class="q">
        <p>3) ¿En qué horario cree que compraría más?</p>
        <div class="choices">
          <label><input type="radio" name="q3" value="Noche" /> Noche</label>
          <label><input type="radio" name="q3" value="Fin de semana" /> Fin de semana</label>
          <label><input type="radio" name="q3" value="Emergencias" /> Emergencias</label>
          <label><input type="radio" name="q3" value="Indistinto" /> Indistinto</label>
        </div>
      </div>

      <div class="q">
        <p>4) ¿Prefiere pago electrónico?</p>
        <div class="choices">
          <label><input type="radio" name="q4" value="Sí" /> Sí</label>
          <label><input type="radio" name="q4" value="No" /> No</label>
          <label><input type="radio" name="q4" value="Indiferente" /> Indiferente</label>
        </div>
      </div>

      <div class="q">
        <p>5) ¿Le parece bien que exista una vending en el edificio?</p>
        <div class="choices">
          <label><input type="radio" name="q5" value="Sí" /> Sí</label>
          <label><input type="radio" name="q5" value="No" /> No</label>
          <label><input type="radio" name="q5" value="Depende" /> Depende</label>
        </div>
      </div>

      <div class="q">
        <p>Comentarios / Observaciones (opcional)</p>
        <input id="notes" type="text" placeholder="Ej: Hay minimarket cerca / residentes jóvenes / etc." />
      </div>
    </section>

    <section class="card">
      <h2>Base de encuestas guardadas</h2>

      <div class="row">
        <button id="btnAddToDB" class="btn" type="button">Guardar entrevista en la base</button>
        <button id="btnClearDB" class="btn danger" type="button">Borrar base (cuidado)</button>
      </div>

      <div class="row">
        <button id="btnExportCSV" class="btn secondary" type="button">Exportar CSV (Excel)</button>
        <button id="btnExportPDF" class="btn secondary" type="button">Exportar PDF (resumen)</button>
      </div>

      <div id="status" class="status"></div>

      <div class="tableWrap">
        <table id="table">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Edificio</th>
              <th>Entrevistado</th>
              <th>Q1</th>
              <th>Q5</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- jsPDF desde CDN -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
